<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta name="robots" content="index,nofollow">

<title>AptGet/Howto - Community Help Wiki</title>










<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static193/light/css/msie.css">
<![endif]-->





<link rel="Start" href="https://help.ubuntu.com/community/CommunityHelpWiki">
<link rel="Alternate" title="Wiki Markup" href="https://help.ubuntu.com/community/AptGet/Howto?action=raw">
<link rel="Alternate" media="print" title="Print View" href="https://help.ubuntu.com/community/AptGet/Howto?action=print">
<link rel="Up" href="https://help.ubuntu.com/community/AptGet">
<link rel="Search" href="https://help.ubuntu.com/community/FindPage">
<link rel="Index" href="https://help.ubuntu.com/community/TitleIndex">
<link rel="Glossary" href="https://help.ubuntu.com/community/WordIndex">
<link rel="Help" href="https://help.ubuntu.com/community/HelpOnFormatting">

<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body dir="ltr" lang="en">


    <div id="leftbanner">
    </div>
    <div id="rightbanner">
    </div>
    <div id="container">
        <div id="container-inner">
	    <div id="mothership">
		<ul>
	            <li><a href="http://www.ubuntu.com/partners">Partners</a> </li>
        	    <li><a href="http://www.ubuntu.com/support">Support</a></li>
        	    <li><a href="http://www.ubuntu.com/community">Community</a></li>
        	    <li><a href="http://www.ubuntu.com/">Ubuntu.com</a></li>
	        </ul>
	    </div>
            <div id="header">
                <h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
                <ul id="main-menu">
                    <li><a href="https://help.ubuntu.com/">Official Documentation</a></li>
                    <li><a class="main-menu-item current" href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
                    <li><a href="http://community.ubuntu.com/contribute/documentation/">Contribute</a></li>
                </ul>
            </div>
            <div id="menu-search">
                <div id="subheader"> 
                    <div class="subheader-menu"> 
                        <div id="second-nav">
<ul id="username"><li><a class="nbinfo" href="https://help.ubuntu.com/community/AptGet/Howto?action=info" rel="nofollow">Page History</a></li><li><a href="https://help.ubuntu.com/community/AptGet/Howto?action=login&amp;login=1" id="login" rel="nofollow">Login to edit</a></li></ul>
 </div> 
    <div id="user-info"> 
    </div>
 

                            
                        </div> 
                    </div> 


                    <div id="search-box">



<form action="https://help.ubuntu.com/search.html" id="cse-search-box">  <div>    <input name="cof" value="FORID:9" type="hidden">    <input name="cx" value="003883529982892832976:e2vwumte3fq" type="hidden">    <input name="ie" value="UTF-8" type="hidden">    <input value="" name="q" size="21" type="text">    <input name="sa" value="Search" type="submit">  </div></form>


                    </div>
                </div>
                <div id="title"><h1>
<span id="pagelocation"><span class="pagepath"><a href="https://help.ubuntu.com/community/AptGet">AptGet</a></span><span class="sep">/</span><a class="backlink" href="https://help.ubuntu.com/community/AptGet/Howto?action=fullsearch&amp;value=linkto%3A%22AptGet%2FHowto%22&amp;context=180" rel="nofollow" title="Click to do a full-text search for this title">Howto</a></span>
</h1>
                </div>
            <div id="cwt-nav3">

 <hr class="clear">
            </div>
                <div id="cwt-content" class="clearfix content-area">

<div id="page" dir="ltr" lang="en">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><div><table style="float: right; font-size: 0.9em; width: 40%; background: rgb(241, 241, 237) none repeat scroll 0% 0%; margin: 0px 0px 1em 1em;"><tbody><tr>  <td style="padding: 0.5em;"><p class="line891"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="#Package_management_with_APT">Package management with APT</a><ol><li>
<a href="#Introduction_to_APT">Introduction to APT</a></li><li>
<a href="#Commands">Commands</a><ol><li>
<a href="#Installation_commands">Installation commands</a><ol><li>
<a href="#auto-apt">auto-apt</a></li></ol></li><li>
<a href="#Maintenance_commands">Maintenance commands</a></li><li>
<a href="#Removal_commands">Removal commands</a></li><li>
<a href="#Search_commands">Search commands</a></li></ol></li><li>
<a href="#Typical_usage_example">Typical usage example</a></li><li>
<a href="#Setting_up_apt-get_to_use_a_http-proxy">Setting up apt-get to use a http-proxy</a><ol><li>
<a href="#Temporary_proxy_session">Temporary proxy session</a></li><li>
<a href="#APT_configuration_file_method">APT configuration file method</a></li><li>
<a href="#BASH_rc_method">BASH rc method</a></li><li>
<a href="#How_to_login_a_proxy_user">How to login a proxy user</a></li></ol></li><li>
<a href="#Useful_additional_packages">Useful additional packages</a></li><li>
<a href="#See_also">See also</a></li><li>
<a href="#Additional_links">Additional links</a></li><li>
<a href="#Troubleshooting_apt-get_or_aptitude_or_Synaptic_package_manager_errors">Troubleshooting apt-get or aptitude or Synaptic package manager errors</a></li></ol></li></ol></div></td>
</tr>
</tbody></table></div><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867"><img alt="(i)" src="icon-info.png" title="(i)" height="16" width="16"> This article applies to all supported versions of Ubuntu <span class="anchor" id="line-6"></span>
</p><h1 id="Package_management_with_APT">Package management with APT</h1>
<span class="anchor" id="line-7"></span><p class="line867"><img alt="IconsPage/apt.png" class="attachment" src="iconspage" title="IconsPage/apt.png"> <span class="anchor" id="line-8"></span>Package management via apt-get runs hand-in-hand with the <em>/etc/apt/sources.list</em> file.  For information on editing or updating your sources list see <a href="https://help.ubuntu.com/community/SourcesList">SourcesList</a>. <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span></p><p class="line867">
</p><h2 id="Introduction_to_APT">Introduction to APT</h2>
<span class="anchor" id="line-11"></span><p class="line867"><em>"In the beginning there was the .tar.gz. Users had to compile each program that they wanted to use on their GNU/Linux systems. When Debian was created, it was deemed necessary that the system include a method of managing the packages installed on the machine. The name dpkg was given to this system. Thus the famous 'package' first came into being on GNU/Linux, a while before Red Hat decided to create their own 'rpm' system.</em> <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span></p><p class="line867"><em>A new dilemma quickly took hold of the minds of the makers of GNU/Linux. They needed a rapid, practical, and efficient way to install packages that would manage dependencies automatically and take care of their configuration files while upgrading. Here again, Debian led the way and gave birth to APT, the Advanced Packaging Tool, which has since been ported by Conectiva for use with rpm and has been adopted by some other distributions."</em> <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span></p><ul><li style="list-style-type: none;">-- From Debian APT HOWTO <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span></li></ul><p class="line867">
</p><h2 id="Commands">Commands</h2>
<span class="anchor" id="line-18"></span><div><table><tbody><tr style="background-color: #FFFCC">  <td><p class="line862"> <img alt="IconsPage/info.png" class="attachment" src="iconspage_001.dat" title="IconsPage/info.png"> All these commands except the search commands must be run as root or with superuser privileges, see <a href="https://help.ubuntu.com/community/RootSudo">sudo</a> for more information. </p></td>
</tr>
</tbody></table></div><ul><li style="list-style-type: none;"><p class="line891"><img alt="IconsPage/example.png" class="attachment" src="iconspage_002.dat" title="IconsPage/example.png"> <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></p><pre><span class="anchor" id="line-1"></span>sudo apt-get install ubuntu-desktop </pre><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></li></ul><p class="line867">
</p><h3 id="Installation_commands">Installation commands</h3>
<span class="anchor" id="line-24"></span><ul><li><span class="anchor" id="line-25"></span><pre><span class="anchor" id="line-1-1"></span>apt-get install &lt;package_name&gt; </pre> This command installs a new package.<span class="anchor" id="line-26"></span></li><li><span class="anchor" id="line-27"></span><pre><span class="anchor" id="line-1-2"></span>apt-get build-dep &lt;package_name&gt; </pre><p class="line862"> This command searches the repositories and installs the build dependencies for &lt;package_name&gt;. If the package is not in the repositories it will return an error.<span class="anchor" id="line-28"></span></p></li><li><span class="anchor" id="line-29"></span><pre><span class="anchor" id="line-1-3"></span>aptitude install &lt;package_name&gt;</pre><p class="line862"> Aptitude is an <a class="http" href="http://en.wikipedia.org/wiki/Ncurses">Ncurses</a> viewer of packages installed or available. Aptitude can be used from the command line in a similar way to apt-get. See <tt>man&nbsp;aptitude</tt> for more information.<span class="anchor" id="line-30"></span></p></li><li>APT and aptitude will accept multiple package names as a space delimited list. For example: <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><pre><span class="anchor" id="line-1-4"></span>apt-get install &lt;package1_name&gt; &lt;package2_name&gt; &lt;package3_name&gt;</pre><span class="anchor" id="line-33"></span><div><table><tbody><tr>  <td><p class="line891"><img alt="IconsPage/note.png" class="attachment" src="iconspage_003.dat" title="IconsPage/note.png"> Use the -s flag to simulate an action."sudo apt-get -s install &lt;package_name&gt;" will simulate installing the package showing you what packages will be installed and configured. </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span></li></ul><p class="line867">
</p><h4 id="auto-apt">auto-apt</h4>
<span class="anchor" id="line-36"></span><ul><li><span class="anchor" id="line-37"></span><pre><span class="anchor" id="line-1-5"></span>auto-apt run &lt;command_string&gt;</pre><p class="line862"> When invoked, the auto-apt command automatically installs packages upon missing file access. If a program tries to access a file known to belong in an uninstalled package, auto-apt will install that package using apt-get.  This feature requires <em>apt</em> and <em>sudo</em> to work.<span class="anchor" id="line-38"></span></p></li><li>Auto-apt keeps databases which need to be kept up-to-date in order for it to be effective. This is achieved by calling the commands auto-apt update, auto-apt updatedb and auto-apt update-local. <span class="anchor" id="line-39"></span></li><li>Usage example <span class="anchor" id="line-40"></span><ul><li style="list-style-type: none;"><p class="line891"><img alt="IconsPage/example.png" class="attachment" src="iconspage_002.dat" title="IconsPage/example.png"> You're compiling a program and, all of a sudden, there's an  error because it needs a file you don't have. The program auto-apt asks you to install packages if they're needed, stopping the relevant process and continuing once the package is installed. <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span></p><pre><span class="anchor" id="line-1-6"></span>     # auto-apt run ./configure</pre>It will then ask to install the needed packages and call apt-get automatically. If you're running X, a graphical interface will replace the default text interface.<span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span></li></ul></li></ul><p class="line867">
</p><h3 id="Maintenance_commands">Maintenance commands</h3>
<span class="anchor" id="line-45"></span><ul><li><span class="anchor" id="line-46"></span><pre><span class="anchor" id="line-1-7"></span>apt-get update</pre><p class="line862"> Run this command after changing <em>/etc/apt/sources.list</em> or <em>/etc/apt/preferences</em> . For information regarding <em>/etc/apt/preferences</em>, see <a href="https://help.ubuntu.com/community/PinningHowto">PinningHowto</a>. Run this command periodically to make sure your source list is up-to-date.  This is the equivalent of "Reload" in Synaptic or "Fetch updates" in Adept.<span class="anchor" id="line-47"></span></p></li><li><span class="anchor" id="line-48"></span><pre><span class="anchor" id="line-1-8"></span>apt-get upgrade</pre> This command upgrades all installed packages.  This is the equivalent of "Mark all upgrades" in Synaptic.<span class="anchor" id="line-49"></span></li><li><span class="anchor" id="line-50"></span><pre><span class="anchor" id="line-1-9"></span>apt-get dist-upgrade</pre> The same as the above, except add the "smart upgrade" checkbox. It tells APT to use "smart" conflict resolution system, and it will attempt to upgrade the most important packages at the expense of less important ones if necessary. <span class="anchor" id="line-51"></span><div><table><tbody><tr>  <td><p class="line891"><img alt="IconsPage/note.png" class="attachment" src="iconspage_003.dat" title="IconsPage/note.png"> "apt-get dist-upgrade" does not upgrade from a previous version of Ubuntu. For more information of upgrading from a previous version of Ubuntu see <a class="http" href="http://www.ubuntu.com/getubuntu/upgrading">http://www.ubuntu.com/getubuntu/upgrading</a> .</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-52"></span></li><li><span class="anchor" id="line-53"></span><pre><span class="anchor" id="line-1-10"></span>apt-get check</pre> This command is a diagnostic tool. It does an update of the package lists and checks for broken dependencies.<span class="anchor" id="line-54"></span></li><li><span class="anchor" id="line-55"></span><pre><span class="anchor" id="line-1-11"></span>apt-get -f install</pre><p class="line862"> This command does the same thing as <strong>Edit-&gt;Fix Broken Packages</strong> in Synaptic. Do this if you get complaints about packages with "unmet dependencies".<span class="anchor" id="line-56"></span></p></li><li><span class="anchor" id="line-57"></span><pre><span class="anchor" id="line-1-12"></span>apt-get autoclean</pre><p class="line862">  This command removes .deb files for packages that are no longer installed on your system.  Depending on your installation habits, removing these files from <em>/var/cache/apt/archives</em> may regain a significant amount of diskspace.<span class="anchor" id="line-58"></span></p></li><li><span class="anchor" id="line-59"></span><pre><span class="anchor" id="line-1-13"></span>apt-get clean</pre><p class="line862"> The same as above, except it removes <em><strong>all</strong></em> packages from the package cache.  This may not be desirable if you have a slow Internet connection, since it will cause you to redownload any packages you need to install a program.<span class="anchor" id="line-60"></span></p><ul><li><p class="line862">The package cache is in <em>/var/cache/apt/archives</em> .  The command <span class="anchor" id="line-61"></span></p><pre><span class="anchor" id="line-1-14"></span>du -sh /var/cache/apt/archives</pre> will tell you how much space cached packages are consuming.<span class="anchor" id="line-62"></span></li></ul></li><li><span class="anchor" id="line-63"></span><pre><span class="anchor" id="line-1-15"></span>dpkg-reconfigure &lt;package_name&gt;</pre> Reconfigure the named package. With many packages, youâ€™ll be prompted with some configuration questions you may not have known were there.<span class="anchor" id="line-64"></span><ul><li style="list-style-type: none;"><p class="line891"><img alt="IconsPage/example.png" class="attachment" src="iconspage_002.dat" title="IconsPage/example.png"> For example: <span class="anchor" id="line-65"></span></p><pre><span class="anchor" id="line-1-16"></span>dpkg-reconfigure fontconfig-config</pre> will present you with a "wizard" on configuring fonts in Ubuntu.<span class="anchor" id="line-66"></span></li></ul></li><li><span class="anchor" id="line-67"></span><pre><span class="anchor" id="line-1-17"></span>echo "&lt;package_name&gt; hold" | dpkg --set-selections</pre><p class="line862"> This command places the desired package on hold.  <span class="comment" style="display: none;">TODO: Bug #42178: This is the same as Synaptic's <strong>Package-&gt;Lock Version</strong>. */<span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span></span></p><ul><li style="list-style-type: none;"><div><table><tbody><tr style="background-color: #FFFCC">  <td><p class="line862"> <img alt="IconsPage/info.png" class="attachment" src="iconspage_001.dat" title="IconsPage/info.png"> This command may have the unintended side effect of preventing upgrades to packages that depend on updated versions of the pinned package. <tt>apt-get&nbsp;dist-upgrade</tt> will override this, but will warn you first. If you want to use this command with sudo, you need to use  <tt>echo&nbsp;"&lt;package_name&gt;&nbsp;hold"&nbsp;|&nbsp;sudo&nbsp;dpkg&nbsp;--set-selections</tt>  <em>not</em> <tt>sudo&nbsp;echo&nbsp;"&lt;package_name&gt;&nbsp;hold"&nbsp;|&nbsp;dpkg&nbsp;--set-selections</tt>. </p></td>
</tr>
</tbody></table></div></li></ul></li><li><span class="anchor" id="line-71"></span><pre><span class="anchor" id="line-1-18"></span>echo "&lt;package_name&gt; install" | dpkg --set-selections</pre> This command removes the "hold" or "locked package" state set by the above command. The note above about sudo usage applies to this command.<span class="anchor" id="line-72"></span></li></ul><p class="line867">
</p><h3 id="Removal_commands">Removal commands</h3>
<span class="anchor" id="line-73"></span><ul><li><span class="anchor" id="line-74"></span><pre><span class="anchor" id="line-1-19"></span>apt-get remove &lt;package_name&gt;</pre> This command removes an installed package, leaving configuration files intact.<span class="anchor" id="line-75"></span></li><li><span class="anchor" id="line-76"></span><pre><span class="anchor" id="line-1-20"></span>apt-get purge &lt;package_name&gt;</pre> This command completely removes a package and the associated configuration files. Configuration files residing in ~ are not usually affected by this command.<span class="anchor" id="line-77"></span><ul><li>+ operator <span class="anchor" id="line-78"></span><ul><li style="list-style-type: none;"><p class="line891"><img alt="IconsPage/example.png" class="attachment" src="iconspage_002.dat" title="IconsPage/example.png"> If you want to remove package1 and install package2 in one step: <span class="anchor" id="line-79"></span></p><pre><span class="anchor" id="line-1-21"></span>apt-get remove &lt;package1&gt; &lt;package2&gt;+</pre>.<span class="anchor" id="line-80"></span></li></ul></li></ul></li><li><span class="anchor" id="line-81"></span><pre><span class="anchor" id="line-1-22"></span>apt-get autoremove</pre> This command removes packages that were installed by other packages and are no longer needed.<span class="anchor" id="line-82"></span><ul><li><span class="anchor" id="line-83"></span><pre><span class="anchor" id="line-1-23"></span>apt-get autoremove &lt;package_name&gt;</pre> This command removes an installed package and dependencies.<span class="anchor" id="line-84"></span></li></ul></li><li><p class="line862">While there is no built in way to remove all of your configuration information from your removed packages you can remove all configuration data from every removed package with the following command.<span class="anchor" id="line-85"></span></p><pre><span class="anchor" id="line-1-24"></span>dpkg -l | grep '^rc' | awk '{print $2}' | xargs dpkg --purge</pre><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span></li></ul><p class="line867">
</p><h3 id="Search_commands">Search commands</h3>
<span class="anchor" id="line-88"></span><ul><li><span class="anchor" id="line-89"></span><pre><span class="anchor" id="line-1-25"></span>apt-cache search &lt;search_term&gt;</pre><p class="line862"> This command will find packages that include &lt;search_term&gt;.<span class="anchor" id="line-90"></span></p></li><li><span class="anchor" id="line-91"></span><pre><span class="anchor" id="line-1-26"></span>dpkg -l *&lt;search_term&gt;*</pre><p class="line862"> This will find packages whose names contain &lt;search_term&gt;.  Similar to <tt>apt-cache&nbsp;search</tt>, but also shows whether a package is installed on your system by marking it with <strong>ii</strong> (installed) and <strong>un</strong> (not installed).<span class="anchor" id="line-92"></span></p></li><li><span class="anchor" id="line-93"></span><pre><span class="anchor" id="line-1-27"></span>apt-cache show &lt;package_name&gt;</pre><p class="line862"> This command shows the description of package &lt;package_name&gt; and other relevant information including version, size, dependencies and conflicts.<span class="anchor" id="line-94"></span></p></li><li><span class="anchor" id="line-95"></span><pre><span class="anchor" id="line-1-28"></span>dpkg --print-avail &lt;package_name&gt;</pre> This command is similar to "apt-cache show".<span class="anchor" id="line-96"></span></li><li><span class="anchor" id="line-97"></span><pre><span class="anchor" id="line-1-29"></span>dpkg -L &lt;package_name&gt;</pre><p class="line862"> This command will  list files in package &lt;package_name&gt;.<span class="anchor" id="line-98"></span></p></li><li><span class="anchor" id="line-99"></span><pre><span class="anchor" id="line-1-30"></span>dpkg -c foo.deb</pre><p class="line862">  This command lists files in the package  "foo.deb". Note that <em>foo.deb</em> is a <strong>pathname</strong>.  Use this command on .deb packages that you have manually downloaded.<span class="anchor" id="line-100"></span></p></li><li><span class="anchor" id="line-101"></span><pre><span class="anchor" id="line-1-31"></span>dlocate &lt;package_name&gt;</pre><p class="line862"> This command determines which installed package owns &lt;package_name&gt;.  It shows files from installed packages that match &lt;package_name&gt;, with the name of the package they came from. Consider this to be a "reverse lookup" utility.<span class="anchor" id="line-102"></span></p><div><table><tbody><tr>  <td><p class="line891"><img alt="IconsPage/info.png" class="attachment" src="iconspage_001.dat" title="IconsPage/info.png"> In order to use this command, the package <strong>dlocate</strong> must be installed on your system. </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-103"></span></li><li><span class="anchor" id="line-104"></span><pre><span class="anchor" id="line-1-32"></span>dpkg -S &lt;filename_search_pattern&gt;</pre><p class="line862"> This command does the same as <tt>dlocate</tt>, but does not require the installation of any additional packages. It is slower than <tt>dlocate</tt> but has the advantage of being installed by default on all Debian and Ubuntu systems.<span class="anchor" id="line-105"></span></p></li><li><span class="anchor" id="line-106"></span><pre><span class="anchor" id="line-1-33"></span>apt-file search &lt;filename_search_pattern&gt;</pre><p class="line862"> This command acts like <tt>dlocate</tt> and <tt>dpkg&nbsp;-S</tt>, but searches all available packages. It answers the question, "what package provides this file?".<span class="anchor" id="line-107"></span></p><ul><li><p class="line862">apt-file needs to be updated regularly like apt-get. Use the command: <span class="anchor" id="line-108"></span></p><pre><span class="anchor" id="line-1-34"></span>apt-file update</pre><span class="anchor" id="line-109"></span></li></ul><div><table><tbody><tr>  <td><p class="line891"><img alt="IconsPage/info.png" class="attachment" src="iconspage_001.dat" title="IconsPage/info.png">  In order to use this command, the package <strong>apt-file</strong> must be installed on your system. </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-110"></span></li><li><span class="anchor" id="line-111"></span><pre><span class="anchor" id="line-1-35"></span>apt-cache pkgnames</pre> This command provides a listing of every package in the system<span class="anchor" id="line-112"></span></li><li><p class="line862">A general note on searching: If searching generates a list that is too long, you can filter your results by piping them through the command <tt>grep</tt>.  Examples: <span class="anchor" id="line-113"></span></p><ul><li><span class="anchor" id="line-114"></span><pre><span class="anchor" id="line-1-36"></span>apt-cache search &lt;filename&gt; | grep -w &lt;filename&gt;</pre><p class="line862">  will show only the files that contain &lt;filename&gt; as a whole word<span class="anchor" id="line-115"></span></p></li><li><span class="anchor" id="line-116"></span><pre><span class="anchor" id="line-1-37"></span>dpkg -L package | grep /usr/bin </pre> will list files located in the directory /usr/bin, useful if you're looking for a particular executable.<span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span></li></ul></li></ul><p class="line862">For more information on apt-get, apt-cache and dpkg consult their manual pages by using the <tt>man</tt> command.  These manuals will provide a wider scope of information in addition to all of the options that you can use with each program. <span class="anchor" id="line-119"></span></p><ul><li style="list-style-type: none;"><p class="line891"><img alt="IconsPage/example.png" class="attachment" src="iconspage_002.dat" title="IconsPage/example.png"> Example: <span class="anchor" id="line-120"></span></p><pre><span class="anchor" id="line-1-38"></span>man apt-get</pre>.<span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span></li></ul><p class="line867">
</p><h2 id="Typical_usage_example">Typical usage example</h2>
<span class="anchor" id="line-123"></span><p class="line874">I want to feel the wind in my hair, I want the adrenaline of speed. So let's install a racing game.  But what racing games are available? <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span></p><pre><span class="anchor" id="line-1-39"></span>apt-cache search racing game</pre><span class="anchor" id="line-126"></span><p class="line874">It gives me a lot of answers. I see a game named "torcs".  Let's get some more information on this game. <span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span></p><pre><span class="anchor" id="line-1-40"></span>apt-cache show torcs</pre><span class="anchor" id="line-129"></span><p class="line874">Hmmm... it seems interesting. But is this game not already installed on my computer? And what is the available version? Which repository is it from (Universe or Main)? <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span></p><pre><span class="anchor" id="line-1-41"></span>apt-cache policy torcs</pre><span class="anchor" id="line-132"></span><p class="line874">Ok, so now, let's install it! <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span></p><pre><span class="anchor" id="line-1-42"></span>apt-get install torcs</pre><span class="anchor" id="line-135"></span><p class="line874">What is the command I must type in the console to launch this game? In this example, it's straightforward ("torcs"), but that's not always the case. One way of finding the name of the binary is to look at what files the package has installed in "/usr/bin".  For games, the binary will be in "/usr/games". For administrative programs, it's in "/usr/sbin". <span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span></p><pre><span class="anchor" id="line-1-43"></span>dpkg -L torcs | grep /usr/games/</pre><span class="anchor" id="line-138"></span><p class="line874">The first part of the command display all files installed by the package "torcs" (try it). With the second part, we ask to only display lines containing "/usr/games/". <span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span></p><p class="line874">Hmmm, that game is cool. Maybe there are some extra tracks? <span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span></p><pre><span class="anchor" id="line-1-44"></span>apt-cache search torcs</pre><span class="anchor" id="line-143"></span><p class="line874">But I'm running out of space. I will delete the apt cache! <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span></p><pre><span class="anchor" id="line-1-45"></span>apt-get clean</pre><span class="anchor" id="line-146"></span><p class="line874">Oh no, my mother asked me to remove all games from this computer. But I want to keep the configuration files so I can simply re-install it later. <span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span></p><pre><span class="anchor" id="line-1-46"></span>apt-get remove torcs</pre><span class="anchor" id="line-149"></span><p class="line874">If I want to also remove config files : <span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span></p><pre><span class="anchor" id="line-1-47"></span>apt-get purge torcs</pre><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><p class="line867">
</p><h2 id="Setting_up_apt-get_to_use_a_http-proxy">Setting up apt-get to use a http-proxy</h2>
<span class="anchor" id="line-154"></span><p class="line874">These are three methods of using apt-get with a http-proxy. <span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span></p><p class="line867">
</p><h3 id="Temporary_proxy_session">Temporary proxy session</h3>
<span class="anchor" id="line-157"></span><p class="line874">This is a temporary method that you can manually use each time you want to use apt-get through a http-proxy. This method is useful if you only want to temporarily use a http-proxy. <span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span></p><p class="line874">Enter this line in the terminal prior to using apt-get (substitute your details for yourproxyaddress and proxyport). <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span></p><p class="line867"><span class="anchor" id="line-162"></span></p><pre><span class="anchor" id="line-1-48"></span>export http_proxy=http://yourproxyaddress:proxyport</pre><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><p class="line874">If you normally use sudo to run apt-get you will need to login as root first for this to work unless you also add some explicit environment settings to /etc/sudoers, e.g. <span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span></p><p class="line867"><span class="anchor" id="line-167"></span></p><pre><span class="anchor" id="line-1-49"></span>Defaults env_keep = "http_proxy https_proxy ftp_proxy"</pre><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><p class="line867">
</p><h3 id="APT_configuration_file_method">APT configuration file method</h3>
<span class="anchor" id="line-170"></span><p class="line862">This method uses the apt.conf file which is found in your <strong>/etc/apt/</strong> directory. This method is useful if you only want apt-get (and not other applications) to use a http-proxy permanently. <span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span></p><div><table><tbody><tr>  <td><p class="line891"><img alt="IconsPage/info.png" class="attachment" src="iconspage_001.dat" title="IconsPage/info.png"> On some installations there will be no apt-conf file set up.  This procedure will either edit an existing apt-conf file or create a new apt-conf file.</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><p class="line867"><span class="anchor" id="line-175"></span></p><pre><span class="anchor" id="line-1-50"></span>gksudo gedit /etc/apt/apt.conf</pre><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><p class="line862">Add this line to your <em>/etc/apt/apt.conf</em> file (substitute your details for yourproxyaddress and proxyport). <span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span></p><p class="line867"><span class="anchor" id="line-180"></span></p><pre><span class="anchor" id="line-1-51"></span>Acquire::http::Proxy "http://yourproxyaddress:proxyport";</pre><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><p class="line874">Save the apt.conf file. <span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span></p><p class="line867">
</p><h3 id="BASH_rc_method">BASH rc method</h3>
<span class="anchor" id="line-185"></span><p class="line874">This method adds a two lines to your .bashrc file in your $HOME directory. This method is useful if you would like apt-get and other applications for instance wget, to use a http-proxy. <span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span></p><p class="line867"><span class="anchor" id="line-188"></span></p><pre><span class="anchor" id="line-1-52"></span>gedit ~/.bashrc</pre><span class="anchor" id="line-189"></span><p class="line862">Add these lines to the bottom of your <em>~/.bashrc</em> file (substitute your details for yourproxyaddress and proxyport) <span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span></p><p class="line867"><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span></p><pre><span class="anchor" id="line-1-53"></span>http_proxy=http://yourproxyaddress:proxyport
<span class="anchor" id="line-2"></span>export http_proxy</pre><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><p class="line862">Save the file. Close your terminal window and then open another terminal window or source the <em>~/.bashrc</em> file: <span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span></p><pre><span class="anchor" id="line-1-54"></span>source ~/.bashrc</pre><span class="anchor" id="line-198"></span><p class="line874">Test your proxy with sudo apt-get update and whatever networking tool you desire.  You can use firestarter or conky to see active connections. <span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span></p><p class="line862">If you make a mistake and go back to edit the file again, you can close the terminal and reopen it or you can source <em> ~/.bashrc</em> as shown above. <span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span></p><pre><span class="anchor" id="line-1-55"></span>source ~/.bashrc</pre><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><p class="line867">
</p><h3 id="How_to_login_a_proxy_user">How to login a proxy user</h3>
<span class="anchor" id="line-205"></span><p class="line874">If you need to login to the Proxy server this can be achieved in most cases by using the following layout in specifying the proxy address in http-proxy. <span class="anchor" id="line-206"></span>(substitute your details for username, password, yourproxyaddress and proxyport) <span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span></p><p class="line867"><span class="anchor" id="line-209"></span></p><pre><span class="anchor" id="line-1-56"></span>http_proxy=http://username:password@yourproxyaddress:proxyport</pre><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><p class="line867">
</p><h2 id="Useful_additional_packages">Useful additional packages</h2>
<span class="anchor" id="line-212"></span><ul><li><p class="line891"><a class="http" href="http://packages.ubuntu.com/search?keywords=deborphan">Deborphan</a> <span class="anchor" id="line-213"></span></p></li><li><p class="line891"><a class="http" href="http://packages.ubuntu.com/search?keywords=debfoster">Debfoster</a> <span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span></p></li></ul><p class="line867">
</p><h2 id="See_also">See also</h2>
<span class="anchor" id="line-216"></span><ul><li><p class="line891"><a href="https://help.ubuntu.com/community/Repositories/CommandLine">Repositories/CommandLine</a> <span class="anchor" id="line-217"></span></p></li><li><p class="line862">For further apt-get goodness see <a href="https://help.ubuntu.com/community/PinningHowto">PinningHowto</a>. <span class="anchor" id="line-218"></span></p></li><li><p class="line891"><a class="https" href="https://wiki.ubuntu.com/AutoDeb">AutoDeb</a> <span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span></p></li></ul><p class="line867">
</p><h2 id="Additional_links">Additional links</h2>
<span class="anchor" id="line-221"></span><ul><li><p class="line891"><a href="https://help.ubuntu.com/community/SynapticHowto">Synaptic Package Manager</a> <span class="anchor" id="line-222"></span></p></li><li><p class="line891"><a class="http" href="http://www.debian.org/doc/manuals/apt-howto/index.en.html">Debian Apt-howto documentation</a> also available in package <tt>apt-howto</tt>. <span class="anchor" id="line-223"></span></p></li><li><p class="line891"><a class="http" href="http://ubuntuforums.org/forumdisplay.php?f=333">Ubuntu Community Forums: Installations and Upgrades</a> <span class="anchor" id="line-224"></span></p></li><li><p class="line891"><a class="http" href="http://notblog.org/faster-updates-with-apt-fast/">How to speed up package updates using apt-fast</a> which downloads packages in parallel. <span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span></p></li></ul><p class="line867">
</p><h2 id="Troubleshooting_apt-get_or_aptitude_or_Synaptic_package_manager_errors">Troubleshooting apt-get or aptitude or Synaptic package manager errors</h2>
<span class="anchor" id="line-227"></span><ul><li style="list-style-type: none;"><p class="line891"><a class="https" href="https://help.ubuntu.com/community/PackageManagerTroubleshootingProcedure">https://help.ubuntu.com/community/PackageManagerTroubleshootingProcedure</a> <span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span></p></li></ul><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-230"></span><a href="https://help.ubuntu.com/community/CategoryPackageManagement">CategoryPackageManagement</a> <a href="https://help.ubuntu.com/community/CategoryCommandLine">CategoryCommandLine</a> <span class="anchor" id="line-231"></span><span class="anchor" id="bottom"></span></p></div><div id="pagebottom"></div>
</div>


            </div>
<p id="pageinfo" class="info" dir="ltr" lang="en">AptGet/Howto  (last edited 2016-06-22 10:35:40 by <span title="clissold345 @ 81-178-227-30.dsl.pipex.com[81.178.227.30]"><a class="interwiki" href="https://launchpad.net/~clissold345" title="clissold345 @ 81-178-227-30.dsl.pipex.com[81.178.227.30]">clissold345</a></span>)</p>

</div>
            
            <div id="footer">
		<p>
		The material on this wiki is available under a free license, see <a href="https://help.ubuntu.com/community/License">Copyright / License</a> for details<br><b>You</b> can contribute to this wiki, see 
		<a href="https://help.ubuntu.com/community/WikiGuide">Wiki Guide</a> for details
		</p>
            </div>

        </div>


</body>
</html>
